(this["webpackJsonpphonebook-frontend"]=this["webpackJsonpphonebook-frontend"]||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(15),o=n.n(r),u=(n(20),n(4)),i=n(3),a=n(0),s=function(e){var t=e.addPerson,n=e.newName,c=e.setNewName,r=e.newNumber,o=e.setNewNumber;return Object(a.jsxs)("form",{onSubmit:t,children:[Object(a.jsxs)("div",{children:["Name: ",Object(a.jsx)("input",{value:n,onChange:function(e){return c(e.target.value)}})]}),Object(a.jsxs)("div",{children:["Number: ",Object(a.jsx)("input",{value:r,onChange:function(e){return o(e.target.value)}})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",children:"Submit"})})]})},d=function(e){var t=e.list,n=e.deletePerson;return Object(a.jsx)("div",{children:t.map((function(e){return Object(a.jsxs)("p",{children:[e.name," ",e.number," ",Object(a.jsx)("button",{type:"button",onClick:function(){return n(Object(u.a)({},e))},children:"delete"})]},e.name)}))})},b=function(e){var t=e.filter,n=e.setFilter;return Object(a.jsxs)("div",{children:["Add filter: ",Object(a.jsx)("input",{value:t,onChange:function(e){return n(e.target.value)}})]})},j=(n(22),function(e){var t=e.notification;return"success"in t?Object(a.jsx)("div",{className:t.success?"success":"error",children:t.message}):Object(a.jsx)("div",{})}),f=n(5),l=n.n(f),h=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),f=Object(i.a)(o,2),h=f[0],m=f[1],O=Object(c.useState)(""),p=Object(i.a)(O,2),v=p[0],x=p[1],w=Object(c.useState)(""),N=Object(i.a)(w,2),g=N[0],k=N[1],S=Object(c.useState)({}),y=Object(i.a)(S,2),C=y[0],P=y[1];Object(c.useEffect)((function(){l.a.get("http://localhost:3001/api/persons").then((function(e){return e.data})).then((function(e){return r(e)}))}),[]);var A=function(e,t){P({message:e,success:t}),setTimeout((function(){P({})}),3e3)},D=n.filter((function(e){return e.name.toLowerCase().includes(g.toLowerCase())}));return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Phonebook"}),Object(a.jsx)(j,{notification:C}),Object(a.jsx)(b,{filter:g,setFilter:k}),Object(a.jsx)("h3",{children:"Add new number"}),Object(a.jsx)(s,{addPerson:function(e){var t;if(e.preventDefault(),n.map((function(e){return e.name})).includes(h)){if(window.confirm("".concat(h," is already in the phonebook, replace old number with a new number?"))){var c=n.find((function(e){return e.name.includes(h)}));(t=Object(u.a)(Object(u.a)({},c),{},{number:v}),l.a.put("http://localhost:3001/api/persons/".concat(t.id),t).then((function(e){return e.data}))).then((function(e){return r(n.filter((function(t){return t.id!==e.id})).concat(e))})).then((function(){return A("".concat(h," number was updated."),!0)}))}}else(function(e){return l.a.post("http://localhost:3001/api/persons",e).then((function(e){return e.data}))})({name:h,number:v}).then((function(e){return r(n.concat(e))})).then((function(){return A("Added ".concat(h," to phonebook."),!0)}))},newName:h,setNewName:m,newNumber:v,setNewNumber:x}),Object(a.jsx)("h2",{children:"Numbers"}),Object(a.jsx)(d,{list:D,deletePerson:function(e){var t=e.id,c=e.name;window.confirm("Do you want to delete ".concat(c," from the phonebook?"))&&(function(e){return l.a.delete("http://localhost:3001/api/persons/".concat(e)).then((function(e){return e.data}))}(t).then((function(){return A("Deleted ".concat(c," from the phonebook."),!0)})).catch((function(){return A("Person ".concat(c," was already deleted."),!1)})),r(n.filter((function(e){return e.id!==t}))))}})]})};o.a.render(Object(a.jsx)(h,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.73bd7a40.chunk.js.map